### 算法步骤

**核心思路**：
利用递归方法，在二叉树中寻找节点p和q的最近公共祖先。

**递归终止条件**：
- 当前节点为null
- 当前节点等于p或q

**递归逻辑分析**：

**情况1：p、q分别在左右子树中**
```
     root
    /    \
   p      q
```
- 左子树返回p，右子树返回q
- 此时root就是最近公共祖先

**情况2：p、q都在同一侧子树中**
```
     root
    /
   p
  /
 q
```
- 假设p、q都在左子树中
- 左子树返回p（或q），右子树返回null
- 此时p就是最近公共祖先

**算法步骤**：
1. 递归遍历左右子树
2. 如果左右子树都返回非空值，说明p、q分别在两侧，当前节点是LCA
3. 如果只有一个子树返回非空值，说明p、q都在该子树中，返回该值
4. 如果两个子树都返回空，说明当前子树中没有p、q

**时间复杂度**：O(n)，其中n是树中节点数
**空间复杂度**：O(h)，其中h是树的高度